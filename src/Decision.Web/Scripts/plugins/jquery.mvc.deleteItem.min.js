(function(n){n.fn.deleteItem=function(t){function s(t){return n(i).data("Teacher")!==undefined&&(t.TeacherId=n(i).data("Teacher")),t.__RequestVerificationToken=n("input[name=__RequestVerificationToken]").val(),t}var e,o;t=n.extend({postUrl:"/",loginUrl:"/Account/Login"},t);var i=this,r="error",u="اطلاعات با موفقیت از پایگاه داده حذف شد",f="آیا از حذف رکورد مورد نظر مطمئن هستید؟";return i.data("message")!==undefined&&(f=i.data("message")),i.data("type")!==undefined&&(r=i.data("type")),i.data("doneMsg")!==undefined&&(u=i.data("doneMsg")),e=n(i).data("removalElement"),o=i.attr("id").replace("remove-",""),this.each(function(){noty({text:f,type:r,theme:"relax",layout:"center",killer:!0,modal:!0,dismissQueue:!1,buttons:[{addClass:"btn btn-primary",text:"بله موافقم",onClick:function(i){n.ajaxSetup({cache:!1});n.ajax({type:"POST",url:t.postUrl,data:s({id:o}),dataType:"html",complete:function(r,f){var o=r.responseText;r.status==403?window.location=t.loginUrl:r.status==400?dangerNoty("داده ارسالی شما معتبر نیست"):o=="system"?warningNoty("رکورد مورد نظر از پیش فرض های سیستم میباشد و امکان ایجاد تغییرات برای آن وجود ندارد"):f!=="error"&&o&&o!="nok"?o=="ok"&&(i.close(),n(e).slideUp("slow").remove(),infoNoty(u)):dangerNoty("مشکلی در انجام عملیات به وجود آمده است")}});i.close()}},{addClass:"btn btn-default",text:"انصراف",onClick:function(n){n.close()}}]})})}})(jQuery);
